Preparation:
* put down all dockers
* code editor becnh scrips - slides - code editor project files - browser
* start ch in backgroud
* delete data folder
* setup inserter config
* venv in created for inserter

Hello everyone,
In this lesson we'll talk about merge-tree family of CH engines

CH team reccomends using engines of this family pretty much for most tasks
They say those engines are the most advanced and feature reach
and data replication is possible only with engines from this family

There are other engines as well, and we'll talk about them in due time, but chances are
you'll start with some kind of merge tree table and stick to it for a long time

I'm already connected to our newly configured ch instance with lovely tabix
Now try to create a table and a database

I was tempted to create a table like so at first. cool kinds don't read the docs, ha
But yeah this will fail

and the reason why it fails is that we need to let CH know about
some of the configs for this table
These configs will be the main focus of this lecture

If we look at file second tab,
code for which you'll find in course files, you'll notice that there are of course different
ways to setup partitionain and order by for our tables

What is event worse, in older days docs would say
    -- read from the screen
    A MergeTree table must have a separate column containing the date. Here,
    it is the EventDate column. The date column must have the 'Date' type (not 'DateTime').
So what do we do?

We will benchmark different setups and then try to make sense of it

It's about time I intorduce you to 2 small scripts to kind of dirty
benchmark our tables. You can find a link to gitgub in the lecture references

ok. I'll run the test and we'll come back to results once it's done

SUMMARY: seems don't have to use separate date anymore
better yet to use toYYYYMM() function to make partition even sparser
and please don't use single inserts
actually i've seen very weird behaviour from ch with many single inserts. you can kill
you server easy